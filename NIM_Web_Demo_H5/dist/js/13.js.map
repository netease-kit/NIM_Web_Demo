{"version":3,"sources":["webpack:///./src/pages/SysMsgs.vue?4521","webpack:///./src/pages/SysMsgs.vue","webpack:///./src/pages/SysMsgs.vue?84ca","webpack:///./src/pages/SysMsgs.vue?c7c0","webpack:///./src/pages/SysMsgs.vue?8ac5"],"names":["mounted","$store","dispatch","updated","data","sysType","defaultAvatar","config","defaultUserIcon","deleteIdServer","computed","userInfos","state","sysMsgs","filter","msg","type","showText","friend","alias","account","avatar","from","console","log","desc","getTeamName","to","attach","team","name","op","nick","sort","msg1","msg2","time","customSysMsgs","scene","content","JSON","parse","msgList","methods","deleteMsg","idServer","commit","clearMsgs","that","$vux","confirm","show","title","onConfirm","teamId","teamlist","find","handleTeamApply","pass","action","functionName","options","done","error","obj","findTeamInfo","item","showDelBtn","vNode","attrs","stopBubble","setTimeout","hideDelBtn"],"mappings":"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cAAc,eAAe,gBAAgB,qBAAqB,yBAAyB,KAAK,GAAG,qBAAqB;;AAEz6I;;;;;;;;;;;;;ACPA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH,CAAC;AACD;AACA,IAAI,KAAU;AACd;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AClLA;;AAEA;AACA,cAAc,mBAAO,CAAC,yPAAuT;AAC7U,4CAA4C,QAAS;AACrD;AACA;AACA,aAAa,mBAAO,CAAC,wDAA6D;AAClF;AACA,GAAG,KAAU;AACb;AACA;AACA,oIAAoI,qEAAqE;AACzM,6IAA6I,qEAAqE;AAClN;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C","file":"13.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-51df2566\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SysMsgs.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SysMsgs.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51df2566\\\"}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SysMsgs.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"D:\\\\Project\\\\javascript\\\\NIM_Web_Demo_H5\\\\src\\\\pages\\\\SysMsgs.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] SysMsgs.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-51df2566\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-51df2566\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/SysMsgs.vue\n// module id = 328\n// module chunks = 13","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport config from '../configs'\r\nexport default {\r\n  // 进入该页面，文档被挂载\r\n  mounted () {\r\n    this.$store.dispatch('markSysMsgRead')\r\n    this.$store.dispatch('markCustomSysMsgRead')\r\n  },\r\n  updated () {\r\n    this.$store.dispatch('markSysMsgRead')\r\n    this.$store.dispatch('markCustomSysMsgRead')\r\n  },\r\n  data () {\r\n    return {\r\n      sysType: 0, // 系统消息 0, 自定义消息 1,\r\n      defaultAvatar: config.defaultUserIcon,\r\n      deleteIdServer: ''\r\n    }\r\n  },\r\n  computed: {\r\n    userInfos () {\r\n      return this.$store.state.userInfos || {}\r\n    },\r\n    sysMsgs () {\r\n      let sysMsgs = this.$store.state.sysMsgs.filter(msg => {\r\n        switch (msg.type) {\r\n          case 'addFriend':\r\n            msg.showText = `${msg.friend.alias || msg.friend.account} 添加您为好友~`\r\n            msg.avatar = this.userInfos[msg.from] && this.userInfos[msg.from].avatar\r\n            return true\r\n          case 'deleteFriend':\r\n            msg.showText = `${msg.from} 将您从好友中删除`\r\n            msg.avatar = this.userInfos[msg.from].avatar\r\n            return false\r\n          case 'applyTeam':\r\n            console.log('applyTeam', msg)\r\n            msg.showText = msg.from\r\n            msg.avatar = this.userInfos[msg.from] && this.userInfos[msg.from].avatar || this.defaultAvatar\r\n            msg.desc = `申请加入群:${this.getTeamName(msg.to)}`\r\n            return true\r\n          case 'teamInvite':\r\n            msg.showText = msg.attach.team.name\r\n            msg.avatar = this.userInfos[msg.from] && this.userInfos[msg.from].avatar || this.defaultAvatar\r\n            msg.desc = `邀请你加入群${msg.to}`\r\n            return true\r\n          case 'rejectTeamApply':\r\n            msg.showText = msg.attach.team.name\r\n            msg.desc ='管理员拒绝你加入本群'\r\n            msg.avatar = msg.attach.team.avatar || this.defaultAvatar\r\n            return true\r\n          case 'rejectTeamInvite':\r\n            let op = this.userInfos[msg.from]\r\n            msg.showText = op.nick\r\n            msg.avatar = op.avatar || this.defaultAvatar\r\n            msg.desc = `${op.nick}拒绝了群${this.getTeamName(msg.to)}的入群邀请`\r\n            return true\r\n        }\r\n        console.log(msg)\r\n        return false\r\n      })\r\n      sysMsgs.sort((msg1, msg2)=>{\r\n        // 最新的排在前\r\n        return msg2.time - msg1.time\r\n      })\r\n      return sysMsgs\r\n    },\r\n    customSysMsgs () {\r\n      let customSysMsgs = this.$store.state.customSysMsgs.filter(msg => {\r\n        if (msg.scene === 'p2p') {\r\n          let content = JSON.parse(msg.content)\r\n          msg.showText = `${content.content}`\r\n          msg.avatar = this.userInfos[msg.from].avatar\r\n          return msg\r\n        }\r\n        return false\r\n      })\r\n      return customSysMsgs\r\n    },\r\n    msgList() {\r\n      return this.sysType ===  0 ? this.sysMsgs : this.customSysMsgs\r\n    }\r\n    \r\n  },\r\n  methods: {\r\n    deleteMsg(idServer){\r\n      this.$store.commit('deleteSysMsgs', {\r\n        type: this.sysType,\r\n        idServer: idServer,\r\n      })\r\n    },\r\n    clearMsgs () {\r\n      var that = this\r\n      this.$vux.confirm.show({\r\n        title: '确认要清空消息吗？',\r\n        onConfirm () {\r\n          that.$store.dispatch('resetSysMsgs', {\r\n            type: that.sysType\r\n          })\r\n        }\r\n      })\r\n    },\r\n    getTeamName(teamId) {\r\n      let team = this.$store.state.teamlist.find(team => {\r\n        return team.teamId === teamId\r\n      })\r\n      return team && team.name || ''\r\n    },\r\n    handleTeamApply(msg, pass) {\r\n      let action\r\n      switch (msg.type) {\r\n        case 'applyTeam':\r\n          action = pass ? 'passTeamApply' : 'rejectTeamApply'\r\n          break;\r\n         case 'teamInvite':\r\n          action = pass ? 'acceptTeamInvite' : 'rejectTeamInvite'\r\n          break;\r\n        default:\r\n          return\r\n      }\r\n      this.$store.dispatch('delegateTeamFunction', {\r\n        functionName: action, \r\n        options: {\r\n          idServer: msg.idServer,\r\n          teamId: msg.to,\r\n          from: msg.from,\r\n          done: (error, obj)=>{\r\n            console.log('handleDone', obj)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    findTeamInfo(teamId) {\r\n      var team = this.$store.state.teamlist.find(item =>{\r\n        return item.teamId === teamId\r\n      })\r\n      return team && team.name || teamId\r\n    },\r\n    showDelBtn (vNode) {\r\n      if (vNode && vNode.data && vNode.data.attrs) {\r\n        this.deleteIdServer = vNode.data.attrs.idServer\r\n        this.stopBubble = true\r\n        setTimeout(() => {\r\n          this.stopBubble = false\r\n        }, 20)\r\n      }\r\n    },\r\n    hideDelBtn () {\r\n      if (this.deleteIdServer !== null && !this.stopBubble) {\r\n        // 用于判断是否前置状态是显示删除按钮\r\n        this.deleteIdServer = null\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SysMsgs.vue","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.p-sysmsgs .u-list {\\n    height: 100%;\\n    overflow-y: scroll;\\n}\\n.p-sysmsgs p {\\n    word-wrap: normal;\\n    word-break: break-all;\\n    color: #333;\\n}\\n.p-sysmsgs .g-teamSys {\\n    display: -webkit-box;\\n    display: -webkit-flex;\\n    display: -moz-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-flex: 100;\\n    -webkit-flex-grow: 100;\\n       -moz-box-flex: 100;\\n        -ms-flex-positive: 100;\\n            flex-grow: 100;\\n    -webkit-box-pack: justify;\\n    -webkit-justify-content: space-between;\\n       -moz-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n    -webkit-box-align: center;\\n    -webkit-align-items: center;\\n       -moz-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    overflow: hidden;\\n}\\n.p-sysmsgs .g-teamSys .m-info {\\n    -webkit-flex-shrink: 1;\\n        -ms-flex-negative: 1;\\n            flex-shrink: 1;\\n    overflow: hidden;\\n}\\n.p-sysmsgs .g-teamSys .m-info .u-time {\\n    color: #aaa;\\n}\\n.p-sysmsgs .g-teamSys .m-info .u-desc {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    color: #aaa;\\n    font-size: 1rem;\\n}\\n.p-sysmsgs .g-teamSys .m-options{\\n    display: -webkit-box;\\n    display: -webkit-flex;\\n    display: -moz-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n    -webkit-align-items: center;\\n       -moz-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n}\\n.p-sysmsgs .g-teamSys .m-options .weui-btn.weui-btn_mini {\\n    padding: 0;\\n    width: 3rem;\\n    height: 2rem;\\n}\\n.p-sysmsgs .g-teamSys .m-options .weui-btn + .weui-btn {\\n    margin-top: 0;\\n    margin-left: 0.5rem;\\n}\\n.p-sysmsgs .u-msg-state {\\n    color: #aaa;\\n    font-size: .9rem;\\n}\\n.p-sysmsgs .empty-hint{\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 5rem;\\n    margin: auto;\\n    text-align: center;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/Project/javascript/NIM_Web_Demo_H5/src/pages/SysMsgs.vue\"],\"names\":[],\"mappings\":\";AA8NE;IACE,aAAa;IACb,mBAAmB;CACpB;AACD;IACE,kBAAkB;IAClB,sBAAsB;IACtB,YAAY;CACb;AAED;IACE,qBAAc;IAAd,sBAAc;IAAd,kBAAc;IAAd,qBAAc;IAAd,cAAc;IACd,sBAAe;IAAf,uBAAe;OAAf,mBAAe;QAAf,uBAAe;YAAf,eAAe;IACf,0BAA+B;IAA/B,uCAA+B;OAA/B,uBAA+B;QAA/B,uBAA+B;YAA/B,+BAA+B;IAC/B,0BAAoB;IAApB,4BAAoB;OAApB,uBAAoB;QAApB,uBAAoB;YAApB,oBAAoB;IACpB,iBAAiB;CAiClB;AA/BC;IACE,uBAAe;QAAf,qBAAe;YAAf,eAAe;IACf,iBAAiB;CAYlB;AAVC;IACE,YAAY;CACb;AACD;IACE,iBAAiB;IACjB,wBAAwB;IACxB,oBAAoB;IACpB,YAAY;IACZ,gBAAgB;CACjB;AAGH;IACE,qBAAc;IAAd,sBAAc;IAAd,kBAAc;IAAd,qBAAc;IAAd,cAAc;IACd,0BAAoB;IAApB,4BAAoB;OAApB,uBAAoB;QAApB,uBAAoB;YAApB,oBAAoB;CAYrB;AAVC;IACE,WAAW;IACX,YAAY;IACZ,aAAa;CACd;AAED;IACE,cAAc;IACd,oBAAoB;CACrB;AAGL;IACE,YAAY;IACZ,iBAAiB;CAClB;AACD;IACE,mBAAmB;IACnB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,aAAa;IACb,mBAAmB;CACpB\",\"file\":\"SysMsgs.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.p-sysmsgs {\\n  .u-list {\\n    height: 100%;\\n    overflow-y: scroll;\\n  }\\n  p {\\n    word-wrap: normal;\\n    word-break: break-all;\\n    color: #333;\\n  }\\n  \\n  .g-teamSys {\\n    display: flex;\\n    flex-grow: 100;\\n    justify-content: space-between;\\n    align-items: center;\\n    overflow: hidden;\\n    \\n    .m-info {\\n      flex-shrink: 1;\\n      overflow: hidden;\\n\\n      .u-time {\\n        color: #aaa;\\n      }\\n      .u-desc {\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        white-space: nowrap;\\n        color: #aaa;\\n        font-size: 1rem;\\n      }\\n    }\\n\\n    .m-options{\\n      display: flex;\\n      align-items: center;\\n      \\n      .weui-btn.weui-btn_mini {\\n        padding: 0;\\n        width: 3rem;\\n        height: 2rem;\\n      }\\n      \\n      .weui-btn + .weui-btn {\\n        margin-top: 0;\\n        margin-left: 0.5rem;\\n      }\\n    }\\n  }\\n  .u-msg-state {\\n    color: #aaa;\\n    font-size: .9rem;\\n  }\\n  .empty-hint{\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 5rem;  \\n    margin: auto;\\n    text-align: center;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-51df2566\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/SysMsgs.vue\n// module id = 464\n// module chunks = 13","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"g-inherit m-article\"\n  }, [_c('x-header', {\n    staticClass: \"m-tab\",\n    attrs: {\n      \"left-options\": {\n        backText: ' '\n      }\n    }\n  }, [_c('button-tab', {\n    staticClass: \"m-tab-top\",\n    model: {\n      value: (_vm.sysType),\n      callback: function($$v) {\n        _vm.sysType = $$v\n      },\n      expression: \"sysType\"\n    }\n  }, [_c('button-tab-item', {\n    staticClass: \"u-tab-top\"\n  }, [_vm._v(\"系统消息\")]), _vm._v(\" \"), _c('button-tab-item', {\n    staticClass: \"u-tab-top\"\n  }, [_vm._v(\"自定义消息\")])], 1), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"slot\": \"left\"\n    },\n    slot: \"left\"\n  }), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"slot\": \"right\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        return _vm.clearMsgs($event)\n      }\n    },\n    slot: \"right\"\n  }, [_vm._v(\"清空\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"m-article-main p-sysmsgs\"\n  }, [_c('group', {\n    staticClass: \"u-list\"\n  }, [_vm._l((_vm.msgList), function(msg) {\n    return [(msg.type === \"applyTeam\" || msg.type === \"teamInvite\") ? _c('cell', {\n      directives: [{\n        name: \"touch\",\n        rawName: \"v-touch:swipeleft\",\n        value: (_vm.showDelBtn),\n        expression: \"showDelBtn\",\n        arg: \"swipeleft\"\n      }, {\n        name: \"touch\",\n        rawName: \"v-touch:swiperight\",\n        value: (_vm.hideDelBtn),\n        expression: \"hideDelBtn\",\n        arg: \"swiperight\"\n      }],\n      key: msg.idServer,\n      staticClass: \"u-list-item\",\n      attrs: {\n        \"idServer\": msg.idServer\n      }\n    }, [_c('img', {\n      staticClass: \"icon\",\n      attrs: {\n        \"slot\": \"icon\",\n        \"width\": \"24\",\n        \"src\": msg.avatar\n      },\n      slot: \"icon\"\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"g-teamSys\",\n      attrs: {\n        \"slot\": \"child\"\n      },\n      slot: \"child\"\n    }, [_c('div', {\n      staticClass: \"m-info\"\n    }, [_c('span', {\n      staticClass: \"u-name\"\n    }, [_vm._v(_vm._s(msg.from))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"u-time\"\n    }, [_vm._v(_vm._s(msg.showTime))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"u-desc\"\n    }, [_vm._v(_vm._s(msg.desc))]), _vm._v(\" \"), (msg.ps) ? _c('p', {\n      staticClass: \"u-desc\"\n    }, [_vm._v(_vm._s((\"留言:\" + (msg.ps))))]) : _vm._e()]), _vm._v(\" \"), (_vm.deleteIdServer !== msg.idServer) ? _c('div', {\n      staticClass: \"m-options\",\n      attrs: {\n        \"slot\": \"default\"\n      },\n      slot: \"default\"\n    }, [(msg.state === \"init\") ? [_c('x-button', {\n      attrs: {\n        \"type\": \"primary\",\n        \"mini\": true,\n        \"action-type\": \"button\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.handleTeamApply(msg, true)\n        }\n      }\n    }, [_vm._v(\"同意\")]), _vm._v(\" \"), _c('x-button', {\n      attrs: {\n        \"type\": \"warn\",\n        \"mini\": true,\n        \"action-type\": \"button\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.handleTeamApply(msg, false)\n        }\n      }\n    }, [_vm._v(\"拒绝\")])] : _c('div', {\n      staticClass: \"u-msg-state\"\n    }, [_vm._v(\"\\n                \" + _vm._s(msg.state === 'error' ? '已过期' : msg.state === 'rejected' ? '已拒绝' : '已同意') + \"\\n              \")])], 2) : _vm._e()]), _vm._v(\" \"), _c('span', {\n      staticClass: \"u-tag-del\",\n      class: {\n        active: _vm.deleteIdServer === msg.idServer\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteMsg(msg.idServer)\n        }\n      }\n    })]) : _c('cell', {\n      directives: [{\n        name: \"touch\",\n        rawName: \"v-touch:swipeleft\",\n        value: (_vm.showDelBtn),\n        expression: \"showDelBtn\",\n        arg: \"swipeleft\"\n      }, {\n        name: \"touch\",\n        rawName: \"v-touch:swiperight\",\n        value: (_vm.hideDelBtn),\n        expression: \"hideDelBtn\",\n        arg: \"swiperight\"\n      }],\n      key: msg.idServer,\n      staticClass: \"u-list-item\",\n      attrs: {\n        \"title\": msg.showText,\n        \"value\": msg.showTime,\n        \"inline-desc\": msg.desc,\n        \"idServer\": msg.idServer\n      }\n    }, [_c('img', {\n      staticClass: \"icon\",\n      attrs: {\n        \"slot\": \"icon\",\n        \"width\": \"24\",\n        \"src\": msg.avatar\n      },\n      slot: \"icon\"\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"u-tag-del\",\n      class: {\n        active: _vm.deleteIdServer === msg.idServer\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteMsg(msg.idServer)\n        }\n      }\n    })])]\n  })], 2), _vm._v(\" \"), (!_vm.msgList || _vm.msgList.length < 1) ? _c('div', {\n    staticClass: \"empty-hint\"\n  }, [_vm._v(\"暂无任何消息\")]) : _vm._e()], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-51df2566\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-51df2566\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/SysMsgs.vue\n// module id = 486\n// module chunks = 13","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-51df2566\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SysMsgs.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"a472d2f6\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-51df2566\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SysMsgs.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-51df2566\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SysMsgs.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-51df2566\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/SysMsgs.vue\n// module id = 507\n// module chunks = 13"],"sourceRoot":""}